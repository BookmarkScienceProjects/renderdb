language: go

go:
   - 1.5
   - 1.6
   - tip

env:
   - GO15VENDOREXPERIMENT=1

before_install:
   - go get github.com/Masterminds/glide
   - go install github.com/Masterminds/glide 

install:
   - go get github.com/jteeuwen/go-bindata/...
   - go get github.com/vektra/mockery/.../
   - glide get
   - glide install

script:
   - go generate .
   - ls -lh routes
   - mockery -dir ./routes/ -recursive -all -inpkg
   - go build -v
   - go test -v $(glide nv)
